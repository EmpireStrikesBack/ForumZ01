{{define "content"}}
    <h2>Latest Posts</h2>

    <div id="posts">
        {{if .Posts}}

            {{range .Posts}}
                <div class="post">
                    <h3>{{.Title}}</h3>
                    <p>By : {{.UserName}}</p>
                    <p>{{.Content}}</p>
                    <p><em>Posted on: {{.CreationDate}}</em></p>

                    <!-- Additionnal features form user/admin/moderator-->
                     {{if eq .AuthorID $.UserID}}
                        <div class="post-controls">
                            <a href="/post/edit/{{.ID}}">Edit</a>
                        </div>
                     {{end}}

                     {{if or (eq $.UserRole "administrator") (eq $.UserRole "moderator")}}
                        <div class="post-controls">
                            <a href="/post/delete/{{.ID}}" onclick="return confirm('delete post?')">Delete</a>
                        </div>
                    {{end}}

                    {{if eq $.UserRole "moderator"}}
                        <div class="post-controls">
                            <a href="/post/report/{{.ID}}">Report</a>
                        </div>
                    {{end}}
                </div>
            {{end}}

        {{else}}
            <P>No Posts available</P>
        {{end}}
    </div>
{{end}}