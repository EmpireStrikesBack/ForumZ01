{{ define "post_buttons" }}
	<div id="like-dislike-section">
		<button class="{{ if .IsLikedByUser }}active{{ end }}"
		id="likeButton" data-post-id="{{ .Post.ID }}"
		data-user-id="{{ if .Session }}{{ .Session.UserID }}{{ else }}0{{ end }}">
			<span class="like-dislike-icon">👍</span>
			<span class="like-dislike-count">{{ .Post.Likes }}</span>
		</button>
		<button class="{{ if .IsDislikedByUser }}active{{ end }}"
		id="dislikeButton" data-post-id="{{ .Post.ID }}"
		data-user-id="{{ if .Session }}{{ .Session.UserID }}{{ else }}0{{ end }}">
			<span class="like-dislike-icon">👎</span>
			<span class="like-dislike-count">{{ .Post.Dislikes }}</span>
		</button>
	</div>
	<script type="module" src="/static/scripts/like.js"></script>

	<!-- Additional features for user/admin/moderator -->
	{{ if .Session }}
		{{ if or (eq .Post.AuthorID .Session.UserID)
				(doesStrMatchAny .Session.UserRole "moderator" "administrator") }}
			<form action="/post/delete" method="POST" class="post-controls"
				onsubmit="return confirm('Are you sure you want to delete this post ?');">
				<input type="hidden" name="post_id" value="{{ .Post.ID }}">
				<button type="submit">Delete</button>
			</form>
		{{ end }}

		{{ if (doesStrMatchAny .Session.UserRole "moderator") }}
			<div class="post-controls">
				<a href="/post/report/{{ .Post.ID }}">Report</a>
			</div>
		{{ end }}
	{{ end }}
{{ end }}
