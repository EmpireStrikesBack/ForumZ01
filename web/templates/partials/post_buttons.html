{{ define "post_buttons" }}
	{{ if .Session.IsLoggedIn }}
		<div id="like-dislike-section">
			<button id="likeButton" data-post-id="{{ .PostID }}"
					data-user-id="{{ .Session.UserID }}">
				<span id="like-icon">👍</span>
				<span id="like-count">0</span>
			</button>
			<button id="dislikeButton" data-post-id="{{ .PostID }}"
					data-user-id="{{ .Session.UserID }}">
				<span id="dislike-icon">👎</span>
				<span id="dislike-count">0</span>
			</button>
		</div>
		<script src="/static/scripts/like.js"></script>
	{{ end }}

	<!-- Additional features for user/admin/moderator -->
	{{ if eq .AuthorID .Session.UserID }}
		<div class="post-controls">
			<a href="/post/edit/{{ .PostID }}">Edit</a>
		</div>
	{{ end }}

	{{ if or (eq .AuthorID .Session.UserID)
			(doesStrMatchAny .Session.UserRole "moderator" "administrator") }}
		<form action="/post/delete" method="POST" class="post-controls"
			onsubmit="return confirm('Are you sure you want to delete this post ?');">
			<input type="hidden" name="post_id" value="{{ .PostID }}">
			<button type="submit">Delete</button>
		</form>
	{{ end }}

	{{ if (doesStrMatchAny .Session.UserRole "moderator") }}
		<div class="post-controls">
			<a href="/post/report/{{ .PostID }}">Report</a>
		</div>
	{{ end }}
{{ end }}
